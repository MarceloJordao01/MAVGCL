<AnalysisDataModel version="0.7" description ="Built-In model definition">

   <!-- EKF2 Innovations -->

    <KeyFigure desc="EKF.Inn.Flow.X" uom="" mask="#0.00" key="EKFINFLOWX">
		<ULogSource field="estimator_innovations_0.flow[0]"/>
		<Groups>
			<Group>EKF2 Innovations</Group>
		</Groups>
	</KeyFigure>

	 <KeyFigure desc="EKF.Inn.Flow.Y" uom="" mask="#0.00" key="EKFINFLOWY">
		<ULogSource field="estimator_innovations_0.flow[1]"/>
		<Groups>
			<Group>EKF2 Innovations</Group>
		</Groups>
	</KeyFigure>

    <KeyFigure desc="EKF.Inn.VisPos.X" uom="" mask="#0.00" key="EKFINVISPX">
		<ULogSource field="estimator_innovations_0.ev_hpos[0]"/>
		<Groups>
			<Group>EKF2 Innovations</Group>
		</Groups>
	</KeyFigure>

	 <KeyFigure desc="EKF.Inn.VisPos.Y" uom="" mask="#0.00" key="EKFINVISPY">
		<ULogSource field="estimator_innovations_0.ev_hpos[1]"/>
		<Groups>
			<Group>EKF2 Innovations</Group>
		</Groups>
	</KeyFigure>

    <KeyFigure desc="EKF.Inn.VisVel.X" uom="" mask="#0.00" key="EKFINVISVX">
		<ULogSource field="estimator_innovations_0.ev_hvel[0]"/>
		<Groups>
			<Group>EKF2 Innovations</Group>
		</Groups>
	</KeyFigure>

	 <KeyFigure desc="EKF.Inn.VisVel.Y" uom="" mask="#0.00" key="EKFINVISVY">
		<ULogSource field="estimator_innovations_0.ev_hvel[1]"/>
		<Groups>
			<Group>EKF2 Innovations</Group>
		</Groups>
	</KeyFigure>

	 <KeyFigure desc="EKF.Inn.HAGL" uom="" mask="#0.00" key="EKFINHAGL">
		<ULogSource field="estimator_innovations_0.hagl"/>
		<Groups>
			<Group>EKF2 Innovations</Group>
		</Groups>
	</KeyFigure>

	 <KeyFigure desc="EKF.Inn.Head" uom="" mask="#0.00" key="EKFINHEAD">
		<ULogSource field="estimator_innovations_0.heading"/>
		<Groups>
			<Group>EKF2 Innovations</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="EKF.Inn.VisPos.Z" uom="" mask="#0.00" key="EKFINVELP0">
		<ULogSource field="estimator_innovations_0.ev_vpos"/>
		<Groups>
			<Group>EKF2 Innovations</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="EKF.Inn.VisVel.Z" uom="" mask="#0.00" key="EKFINVELP1">
		<ULogSource field="estimator_innovations_0.ev_vvel"/>
		<Groups>
			<Group>EKF2 Innovations</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="EKF.Inn.BaroPos" uom="" mask="#0.00" key="EKFINVELP2">
		<ULogSource field="estimator_innovations_0.baro_vpos"/>
		<Groups>
			<Group>EKF2 Innovations</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="EKF.Inn.RngPos" uom="" mask="#0.00" key="EKFINVELP3">
		<ULogSource field="estimator_innovations_0.rng_vpos"/>
		<Groups>
			<Group>EKF2 Innovations</Group>
		</Groups>
	</KeyFigure>


    <!-- EKF2 Analysis -->

    <KeyFigure desc="Tst.Ratio.Hagl." uom="" mask="#0.00" key="EKFHTR">
        <MSPSource class="est" field="haglRatio"></MSPSource>
		<ULogSource field="estimator_status_0.hagl_test_ratio"/>
		<Groups>
			<Group>EKF2 TestRatios</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Tst.Ratio.Vel." uom="" mask="#0.00" key="EKFVTR">
	    <MSPSource class="est" field="velRatio"></MSPSource>
	    <ULogSource field="estimator_status_0.vel_test_ratio"/>
		<Groups>
			<Group>EKF2 TestRatios</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Tst.Ratio.Hor.Pos." uom="" mask="#0.00" key="EKFPTR">
	 <MSPSource class="est" field="horizRatio"></MSPSource>
	 <ULogSource field="estimator_status_0.pos_test_ratio"/>
		<Groups>
			<Group>EKF2 TestRatios</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Tst.Ratio.Vert.Pos." uom="" mask="#0.00" key="EKFPVTR">
	 <MSPSource class="est" field="vertRatio"></MSPSource>
		<Groups>
			<Group>EKF2 TestRatios</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Tst.Ratio.Mag." uom="" mask="#0.00" key="EKFMTR">
	    <MSPSource class="est" field="magRatio"></MSPSource>
		<ULogSource field="estimator_status_0.mag_test_ratio"/>
		<Groups>
			<Group>EKF2 TestRatios</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Tst.Ratio.Tas." uom="" mask="#0.00" key="EKFTATR">
	    <MSPSource class="est" field="tasRatio"></MSPSource>
	    <ULogSource field="estimator_status_0.tas_test_ratio"/>
		<Groups>
			<Group>EKF2 TestRatios</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Solution.Status" uom="" mask="#" key="EKFFLG">
	    <MSPSource class="est" field="flags"></MSPSource>
	    <ULogSource field="estimator_status_0.solution_status_flags"/>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Reset.Count" uom="" mask="#" key="EKFRESETS">
	    <MSPSource class="est" field="reset_counter"></MSPSource>
	    <ULogSource>
		  <Converter class="ULOGSumConverter" 
		     p1="estimator_status_0.reset_count_vel_ne" 
		     p2="estimator_status_0.reset_count_vel_d"
		     p3="estimator_status_0.reset_count_pos_ne"
		     p4="estimator_status_0.reset_count_pos_d"
		     p5="estimator_status_0.reset_count_quat"
		   />
		</ULogSource>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
<!--
	<KeyFigure desc="LPos.Offset.X" uom="" mask="#" key="EKF2OFFSX">
	    <MSPSource class="est" field="l_x_reset"></MSPSource>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="LPos.Offset.Y" uom="" mask="#" key="EKF2OFFSY">
	    <MSPSource class="est" field="l_y_reset"></MSPSource>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="LPos.Offset.Z" uom="" mask="#" key="EKF2OFFSZ">
	    <MSPSource class="est" field="l_z_reset"></MSPSource>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
-->
	
	<KeyFigure desc="Fault.Status" uom="" mask="#" key="EKFFAULT">
	    <ULogSource field="estimator_status_flags_0.fault_status_changes"/>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Reject.Vel.Hor." uom="" mask="#" key="EKFREJHV">
	    <ULogSource field="estimator_status_flags_0.reject_hor_vel"/>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Reject.Pos.Hor." uom="" mask="#" key="EKFREJHP">
	    <ULogSource field="estimator_status_flags_0.reject_hor_pos"/>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Mag.Field.Error" uom="" mask="#" key="EKFMAGFERR">
	    <ULogSource field="estimator_status_flags_0.cs_mag_field_disturbed"/>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	
	  <KeyFigure desc="Fuse.Vis.Pos" uom="" mask="#" key="EKFEVPOS">
	    <ULogSource field="estimator_status_flags_0.cs_ev_pos"/>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	 <KeyFigure desc="Fuse.GPS" uom="" mask="#" key="EKFGPS">
	    <ULogSource field="estimator_status_flags_0.cs_gps"/>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	 <KeyFigure desc="Fuse.Flow" uom="" mask="#" key="EKFFLOW">
	    <ULogSource field="estimator_status_flags_0.cs_opt_flow"/>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	
	 <KeyFigure desc="Fuse.Vis.Vel" uom="" mask="#" key="EKFEVVEL">
	    <ULogSource field="estimator_status_flags_0.cs_ev_vel"/>
		<Groups>
	        <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>

    <KeyFigure desc="Timeout.Flags" uom="" mask="#" key="EKFTOFLG">
	    <ULogSource field="estimator_status_0.timeout_flags"/>
		<Groups>
			 <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>

   <KeyFigure desc="Innov.Check.Flags" uom="" mask="#" key="EKFINNFLG">
	    <ULogSource field="estimator_status_0.innovation_check_flags"/>
		<Groups>
			 <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Height.Mode.Rng" uom="" mask="#" key="CTLFLGH_RNG">
	    <ULogSource field="estimator_status_flags_0.cs_rng_hgt"/>
		<Groups>
			 <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Height.Mode.Ev" uom="" mask="#" key="CTLFLGH_EV">
	    <ULogSource field="estimator_status_flags_0.cs_ev_hgt"/>
		<Groups>
			 <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Height.Mode.Baro" uom="" mask="#" key="CTLFLGH_BARO">
	    <ULogSource field="estimator_status_flags_0.cs_baro_hgt"/>
		<Groups>
			 <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Height.Mode.GPS" uom="" mask="#" key="CTLFLGH_GPS">
	    <ULogSource field="estimator_status_flags_0.cs_gps_hgt"/>
		<Groups>
		   <Group>EKF2 Status</Group>
		</Groups>
	</KeyFigure>
	
	 <!-- Vibration -->

	
	<KeyFigure desc="Vibration (Acc)" uom="" mask="#0.00" key="VIBMETA">
	    <MSPSource class="vibration" field="vibz"></MSPSource>
		<ULogSource field="vehicle_imu_status_0.accel_vibration_metric"/>
		<Groups>
			<Group>Vibration</Group>
		</Groups>
		<Validity min="0" max="2.5"/>
		<Range    min="0" max="3.0"/>
	</KeyFigure>
	
	<KeyFigure desc="Vibration (Gyro)" uom="rad/s" mask="#0.00" key="VIBMETG">
	<MSPSource class="vibration" field="viby"></MSPSource>
		<ULogSource field="vehicle_imu_status_0.gyro_vibration_metric"/>
		<Groups>
			<Group>Vibration</Group>
		</Groups>
	</KeyFigure>
	

	<!-- EKF2 state estimations -->





    <!-- Altitudes -->

	<KeyFigure desc="Alt.Ground level" uom="m" mask="#0.0" key="ALTSL">
		<MSPSource class="hud" field="ag"></MSPSource>
		<PX4Source field="GPOS.Alt"></PX4Source>
		<ULogSource field="vehicle_global_position_0.alt"/>
		<Groups>
			<Group>Altitude</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Alt.Local" uom="m" mask="#0.00" key="ALTGL">
		<MSPSource class="hud" field="al"></MSPSource>
		<PX4Source field="LPOS.Dist"></PX4Source>
	<!--  <ULogSource field="vehicle_local_position_0.dist_bottom"></ULogSource> -->
		<Groups>
			<Group>Altitude</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Alt.Relative" uom="m" mask="#0.00" key="ALTRE">
		<MSPSource class="hud" field="ar"></MSPSource>
		<PX4Source field="LPOS.Dist"></PX4Source>
		<ULogSource field="vehicle_local_position_0.dist_bottom"></ULogSource>
		<Groups>
			<Group>Altitude</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Alt.Baro" uom="m" mask="#0.0" key="ALTBARO">
		<MSPSource class="hud" field="ap"></MSPSource>
		<PX4Source field="SENS.BaroAlt"></PX4Source>
		<ULogSource field="sensor_combined_0.baro_alt_meter"></ULogSource>
		<Groups>
			<Group>Altitude</Group>
			<Group>Raw data</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Alt.GPS" uom="m" mask="#0.0" key="ALTGPS">
		<MSPSource class="gps" field="altitude"></MSPSource>
		<ULogSource field="vehicle_gps_position_0.alt"/>
		<Groups>
			<Group>Altitude</Group>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Alt.Terrain" uom="m" mask="#0.00" key="ALTTR">
		<MSPSource class="hud" field="at"></MSPSource>
		<PX4Source field="GPOS.TALT"></PX4Source>
		<ULogSource field="vehicle_global_position_0.terrain_alt"/>
		<Groups>
			<Group>Altitude</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Alt.Clearance" uom="m" mask="#0.00" key="ALTBC">
		<MSPSource class="hud" field="bc"></MSPSource>
		<Groups>
			<Group>Altitude</Group>
		</Groups>
	</KeyFigure>


	<!-- Local position  -->

	<KeyFigure desc="LPos.X" uom="m" mask="auto" key="LPOSX">
		<MSPSource class="state" field="l_x"></MSPSource>
		<PX4Source field="LPOS.X"></PX4Source>
		<ULogSource field="vehicle_local_position_0.x"></ULogSource>
		<Groups>
			<Group>Local Position</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="LPos.Y" uom="m" mask="auto" key="LPOSY">
		<MSPSource class="state" field="l_y"></MSPSource>
		<PX4Source field="LPOS.Y"></PX4Source>
		<ULogSource field="vehicle_local_position_0.y"></ULogSource>
		<Groups>
			<Group>Local Position</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="LPos.Z" uom="m" mask="auto" key="LPOSZ">
		<MSPSource class="state" field="l_z"></MSPSource>
		<PX4Source field="LPOS.Z"></PX4Source>
		<ULogSource field="vehicle_local_position_0.z"></ULogSource>
		<Groups>
			<Group>Local Position</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="LPos.Yaw" uom="rad" mask="#0.000" key="LPOSW">
		<MSPSource class="attitude" field="y"></MSPSource>
		<ULogSource field="vehicle_local_position_0.yaw"></ULogSource>
		<Groups>
			<Group>Local Position</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<!-- Velocities -->

	<KeyFigure desc="LVel.X" uom="m/s" mask="#0.00" key="LPOSVX">
		<MSPSource class="state" field="l_vx"></MSPSource>
		<PX4Source field="LPOS.VX"></PX4Source>
		<ULogSource field="vehicle_local_position_0.vx"></ULogSource>
		<Groups>
			<Group>Local Velocity</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="LVel.Y" uom="m/s" mask="#0.00" key="LPOSVY">
		<MSPSource class="state" field="l_vy"></MSPSource>
		<PX4Source field="LPOS.VY"></PX4Source>
		<ULogSource field="vehicle_local_position_0.vy"></ULogSource>
		<Groups>
			<Group>Local Velocity</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="LVel.Z" uom="m/s" mask="#0.00" key="LPOSVZ">
		<MSPSource class="state" field="l_vz"></MSPSource>
		<PX4Source field="LPOS.VZ"></PX4Source>
		<ULogSource field="vehicle_local_position_0.vz"></ULogSource>
		<Groups>
			<Group>Local Velocity</Group>
		</Groups>
	</KeyFigure>
	
	<!-- Acceleration -->

	<KeyFigure desc="LAcc.X" uom="m/s2" mask="#0.00" key="LPOSAX">
		<MSPSource class="state" field="l_ax"></MSPSource>
		<ULogSource field="vehicle_local_position_0.vx"></ULogSource>
		<Groups>
			<Group>Local Acceleration</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="LAcc.Y" uom="m/s2" mask="#0.00" key="LPOSAY">
		<MSPSource class="state" field="l_ay"></MSPSource>
		<ULogSource field="vehicle_local_position_0.vy"></ULogSource>
		<Groups>
			<Group>Local Acceleration</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="LAcc.Z" uom="m/s2" mask="#0.00" key="LPOSAZ">
		<MSPSource class="state" field="l_az"></MSPSource>
		<ULogSource field="vehicle_local_position_0.vz"></ULogSource>
		<Groups>
			<Group>Local Acceleration</Group>
		</Groups>
	</KeyFigure>
	
	<!-- Filtered data -->
	
	<KeyFigure desc="Veh.Acc.X" uom="m/s2" mask="#0.00" key="VEHAX">
		<ULogSource field="vehicle_acceleration_0.xyz[0]"></ULogSource>
		<Groups>
			<Group>Filtered raw</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Veh.Acc.Y" uom="m/s2" mask="#0.00" key="VEHAY">
		<ULogSource field="vehicle_acceleration_0.xyz[1]"></ULogSource>
		<Groups>
			<Group>Filtered raw</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Veh.Acc.Z" uom="m/s2" mask="#0.00" key="VEHAZ">
		<ULogSource field="vehicle_acceleration_0.xyz[2]"></ULogSource>
		<Groups>
			<Group>Filtered raw</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Veh.Ang.Vel.X" uom="rad/s" mask="#0.00" key="VEHVX">
		<ULogSource field="vehicle_angular_velocity_0.xyz[0]"></ULogSource>
		<Groups>
			<Group>Filtered raw</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Veh.Ang.Vel.Y" uom="rad/s" mask="#0.00" key="VEHVY">
		<ULogSource field="vehicle_angular_velocity_0.xyz[1]"></ULogSource>
		<Groups>
			<Group>Filtered raw</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Veh.Ang.Vel.Z" uom="rad/s" mask="#0.00" key="VEHVZ">
		<ULogSource field="vehicle_angular_velocity_0.xyz[2]"></ULogSource>
		<Groups>
			<Group>Filtered raw</Group>
		</Groups>
	</KeyFigure>

	<!-- Local position setpoint -->

	<KeyFigure desc="SP.LPos.X" uom="m" mask="#0.00" key="SPLPOSX">
		<MSPSource class="target_state" field="l_x"></MSPSource>
		<PX4Source field="LPSP.X"></PX4Source>
		<ULogSource field="vehicle_local_position_setpoint_0.x"></ULogSource>
		<Groups>
			<Group>Local Position</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="SP.LPos.Y" uom="m" mask="#0.00" key="SPLPOSY">
		<MSPSource class="target_state" field="l_y"></MSPSource>
		<PX4Source field="LPSP.Y"></PX4Source>
		<ULogSource field="vehicle_local_position_setpoint_0.y"></ULogSource>
		<Groups>
			<Group>Local Position</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="SP.LPos.Z" uom="m" mask="#0.00" key="SPLPOSZ">
		<MSPSource class="target_state" field="l_z"></MSPSource>
		<PX4Source field="LPSP.Z"></PX4Source>
		<ULogSource field="vehicle_local_position_setpoint_0.z"></ULogSource>
		<Groups>
			<Group>Local Position</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="SP.LPos.Yaw" uom="rad" mask="#0.00" key="SPLPOSYAW">
		<MSPSource class="attitude" field="sy"></MSPSource>
		<ULogSource field="vehicle_local_position_setpoint_0.yaw"></ULogSource>
		<Groups>
			<Group>Local Position</Group>
		</Groups>
	</KeyFigure>

	<!-- Local Velocity setpoint -->

	<KeyFigure desc="SP.LVel.X" uom="m/s" mask="#0.00" key="SPLPOSVX">
		<MSPSource class="target_state" field="l_vx"></MSPSource>
		<PX4Source field="LPSP.VX"></PX4Source>
		<ULogSource field="vehicle_local_position_setpoint_0.vx"></ULogSource>
		<Groups>
			<Group>Local Velocity</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="SP.LVel.Y" uom="m/s" mask="#0.00" key="SPLPOSVY">
		<MSPSource class="target_state" field="l_vy"></MSPSource>
		<PX4Source field="LPSP.VY"></PX4Source>
		<ULogSource field="vehicle_local_position_setpoint_0.vy"></ULogSource>
		<Groups>
			<Group>Local Velocity</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="SP.LVel.Z" uom="m/s" mask="#0.00" key="SPLPOSVZ">
		<MSPSource class="target_state" field="l_vz"></MSPSource>
		<PX4Source field="LPSP.VZ"></PX4Source>
		<ULogSource field="vehicle_local_position_setpoint_0.vz"></ULogSource>
		<Groups>
			<Group>Local Velocity</Group>
		</Groups>
	</KeyFigure>

	<!-- Local acceleration setpoint -->

	<KeyFigure desc="SP.LAcc.X" uom="m/s^2" mask="#0.00" key="SPLPOSAX">
	    <MSPSource class="target_state" field="l_ax"></MSPSource>
		<ULogSource field="vehicle_local_position_setpoint_0.acc_x"></ULogSource>
		<Groups>
			<Group>Local Acceleration</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="SP.LAcc.Y" uom="m/s^2" mask="#0.00" key="SPLPOSAY">
	    <MSPSource class="target_state" field="l_ay"></MSPSource>
		<ULogSource field="vehicle_local_position_setpoint_0.acc_y"></ULogSource>
		<Groups>
			<Group>Local Acceleration</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="SP.LAcc.Z" uom="m/s^2" mask="#0.00" key="SPLPOSAZ">
		<ULogSource field="vehicle_local_position_setpoint_0.acc_z"></ULogSource>
		 <MSPSource class="target_state" field="l_az"></MSPSource>
		<Groups>
			<Group>Local Acceleration</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="LPos.X.Corr." uom="m" mask="auto" key="LPOSRX">
		<MSPSource class="state" field="l_rx"></MSPSource>
		<Groups>
			<Group>Local Position</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="LPos.Y.Corr." uom="m" mask="auto" key="LPOSRY">
		<MSPSource class="state" field="l_ry"></MSPSource>
		<Groups>
			<Group>Local Position</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="LPos.R.Corr." uom="m" mask="auto" key="LPOSRZ">
		<MSPSource class="state" field="l_rz"></MSPSource>
		<Groups>
			<Group>Local Position</Group>
		</Groups>
	</KeyFigure>
	
	<!-- Setpoints -->
	
	<KeyFigure desc="Man.SP.X" uom="" mask="auto" key="SPMANX">
		<ULogSource field="manual_control_setpoint_0.x"></ULogSource>
		<Groups>
			<Group>Setpoints</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Man.SP.Y" uom="" mask="auto" key="SPMANY">
		<ULogSource field="manual_control_setpoint_0.y"></ULogSource>
		<Groups>
			<Group>Setpoints</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Man.SP.Z" uom="" mask="auto" key="SPMANZ">
		<ULogSource field="manual_control_setpoint_0.z"></ULogSource>
		<Groups>
			<Group>Setpoints</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Traj.SP.X" uom="" mask="auto" key="SPTRAJX">
		<ULogSource field="trajectory_setpoint_0.position[0]"></ULogSource>
		<Groups>
			<Group>Setpoints</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Traj.SP.Y" uom="" mask="auto" key="SPTRAJY">
		<ULogSource field="trajectory_setpoint_0.position[1]"></ULogSource>
		<Groups>
			<Group>Setpoints</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Traj.SP.Z" uom="" mask="auto" key="SPTRAJZ">
		<ULogSource field="trajectory_setpoint_0.position[2]"></ULogSource>
		<Groups>
			<Group>Setpoints</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Traj.SP.VX" uom="" mask="auto" key="SPTRAJVX">
		<ULogSource field="trajectory_setpoint_0.velocity[0]"></ULogSource>
		<Groups>
			<Group>Setpoints</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Traj.SP.VY" uom="" mask="auto" key="SPTRAJVY">
		<ULogSource field="trajectory_setpoint_0.velocity[1]"></ULogSource>
		<Groups>
			<Group>Setpoints</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Traj.SP.VZ" uom="" mask="auto" key="SPTRAJVZ">
		<ULogSource field="trajectory_setpoint_0.velocity[2]"></ULogSource>
		<Groups>
			<Group>Setpoints</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Traj.SP.AX" uom="" mask="auto" key="SPTRAJAX">
		<ULogSource field="trajectory_setpoint_0.acceleration[0]"></ULogSource>
		<Groups>
			<Group>Setpoints</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Traj.SP.AY" uom="" mask="auto" key="SPTRAJAY">
		<ULogSource field="trajectory_setpoint_0.acceleration[1]"></ULogSource>
		<Groups>
			<Group>Setpoints</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Traj.SP.AZ" uom="" mask="auto" key="SPTRAJAZ">
		<ULogSource field="trajectory_setpoint_0.acceleration[2]"></ULogSource>
		<Groups>
			<Group>Setpoints</Group>
		</Groups>
	</KeyFigure>


	<!-- Attitude  -->

	<KeyFigure desc="Roll" uom="rad" mask="#0.00" key="ROLL">
		<MSPSource class="attitude" field="r"></MSPSource>
		<PX4Source  field="ATT.Roll"></PX4Source>
		<ULogSource>
		  <Converter class="QuaternionConverter" p1="vehicle_attitude_0.q" p2="0"/>
		</ULogSource>
		<Groups>
			<Group>Attitude</Group>
			<Group>Telemetry</Group>
		</Groups>
		<Validity min="-2" max="2"/>
	</KeyFigure>

	<KeyFigure desc="Pitch" uom="rad" mask="#0.00" key="PITCH">
		<MSPSource class="attitude" field="p"></MSPSource>
		<PX4Source field="ATT.Pitch"></PX4Source>
		<ULogSource>
		   <Converter class="QuaternionConverter" p1="vehicle_attitude_0.q" p2="1"/>
		</ULogSource>
		<Groups>
			<Group>Attitude</Group>
			<Group>Telemetry</Group>
		</Groups>
		<Validity min="-2" max="2"/>
	</KeyFigure>

	<KeyFigure desc="Yaw" uom="rad" mask="#0.00" key="YAW">
		<MSPSource class="attitude" field="y"></MSPSource>
		<PX4Source field="ATT.Yaw"></PX4Source>
		<ULogSource>
		 <Converter class="QuaternionConverter" p1="vehicle_attitude_0.q" p2="2"/>
		</ULogSource>
		<Groups>
			<Group>Attitude</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Yaw (deg)" uom="°" mask="#0.0" key="YAWDEGREE">
		<MSPSource class="attitude" field="y">
		   <Converter class="Rad2DegreeConverter" expression="YAWDEGREE" />
		</MSPSource>
		<Groups>
			<Group>Attitude</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Yaw estimate" uom="rad" mask="#0.00" key="YAWEST">
	    <ULogSource field="yaw_estimator_status_0.yaw_composite"></ULogSource>
	    <Groups>
			<Group>Attitude</Group>
		</Groups>
	</KeyFigure>

	<!-- Attitude rates -->

	<KeyFigure desc="RollRate" uom="rad/s" mask="#0.00" key="ROLLR">
		<MSPSource class="attitude" field="rr"></MSPSource>
		<PX4Source field="ATT.RollRate"></PX4Source>
		<ULogSource field="vehicle_angular_velocity_0.xyz[0]"/>
		<Groups>
			<Group>Attitude</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="PitchRate" uom="rad/s" mask="#0.00" key="PITCHR">
		<MSPSource class="attitude" field="pr"></MSPSource>
		<ULogSource field="vehicle_angular_velocity_0.xyz[1]"/>
		<PX4Source field="ATT.PitchRate"></PX4Source>
		<Groups>
			<Group>Attitude</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="YawRate" uom="rad/s" mask="#0.00" key="YAWR">
		<MSPSource class="attitude" field="yr"></MSPSource>
		<PX4Source field="ATT.YawRate"></PX4Source>
		<ULogSource field="vehicle_angular_velocity_0.xyz[2]"/>
		<Groups>
			<Group>Attitude</Group>
		</Groups>
	</KeyFigure>

		<!-- Attitude  setpoint -->

	<KeyFigure desc="Sp.Roll" uom="rad" mask="#0.00" key="SPROLL">
		<MSPSource class="attitude" field="sr"></MSPSource>
		<PX4Source field="ATSP.RollSP"></PX4Source>
		<ULogSource field="vehicle_attitude_setpoint_0.roll_body"/>
		<Groups>
			<Group>Attitude</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Sp.Pitch" uom="rad" mask="#0.00" key="SPPITCH">
		<MSPSource class="attitude" field="sp"></MSPSource>
		<PX4Source field="ATSP.PitchSP"></PX4Source>
		<ULogSource field="vehicle_attitude_setpoint_0.pitch_body"/>
		<Groups>
			<Group>Attitude</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="SP.Yaw" uom="rad" mask="#0.00" key="SPYAW">
		<MSPSource class="attitude" field="sy"></MSPSource>
		<PX4Source field="ATSP.YawSP"></PX4Source>
		<ULogSource field="vehicle_attitude_setpoint_0.yaw_body"/>
		<Groups>
			<Group>Attitude</Group>
		</Groups>
	</KeyFigure>


	<KeyFigure desc="Thrust" uom="%" mask="#0.00" key="THRUST">
	    <MSPSource class="attitude" field="st"></MSPSource>
		<PX4Source field="ATSP.ThrustSP"></PX4Source>
		<ULogSource field="vehicle_attitude_setpoint_0.thrust"/>
		<Groups>
			<Group>Attitude</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<!-- Attitude rates setpoint -->

	<KeyFigure desc="Sp.RollRate" uom="rad/s" mask="#0.00" key="SPROLLR">
		<MSPSource class="attitude" field="srr"></MSPSource>
		<PX4Source field="ARSP.RollRateSP"></PX4Source>
		<ULogSource field="vehicle_rates_setpoint_0.roll"/>
		<Groups>
			<Group>Attitude</Group>
		</Groups>

	</KeyFigure>

	<KeyFigure desc="Sp.PitchRate" uom="rad/s" mask="#0.00" key="SPPITCHR">
		<MSPSource class="attitude" field="spr"></MSPSource>
		<PX4Source field="ARSP.PitchRateSP"></PX4Source>
		<ULogSource field="vehicle_rates_setpoint_0.pitch"/>
		<Groups>
			<Group>Attitude</Group>
		</Groups>

	</KeyFigure>

	<KeyFigure desc="SP.YawRate" uom="rad/s" mask="#0.00" key="SPYAWR">
		<MSPSource class="attitude" field="syr"></MSPSource>
		<PX4Source field="ARSP.YawRateSP"></PX4Source>
		<ULogSource field="vehicle_rates_setpoint_0.yaw"/>
		<Groups>
			<Group>Attitude</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="ThrustRate" uom="" mask="#0.00" key="THRUSTR">
		<ULogSource field="vehicle_rates_setpoint_0.thrust"/>
		<Groups>
			<Group>Attitude</Group>
		</Groups>
	</KeyFigure>

	<!-- Global position -->

	<KeyFigure desc="Global.Lat." uom="°" mask="#0.0000000" key="GLOBLAT">
		<MSPSource class="state" field="g_lat"></MSPSource>
		<PX4Source field="GPOS.Lat"></PX4Source>
		<ULogSource field="vehicle_global_position_0.lat"/>
		<Groups>
			<Group>Global Position</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Global.Lon." uom="°" mask="#0.0000000" key="GLOBLON">
		<MSPSource class="state" field="g_lon"></MSPSource>
		<PX4Source field="GPOS.Lon"></PX4Source>
		<ULogSource field="vehicle_global_position_0.lon"/>
		<Groups>
			<Group>Global Position</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Home.Lat." uom="°" mask="#0.0000000" key="HOMLAT">
		<MSPSource class="home_state" field="g_lat"></MSPSource>
		<PX4Source field="LPOS.RLat"></PX4Source>
		<ULogSource field="vehicle_local_position_0.ref_lat"/>
		<Groups>
			<Group>Global Position</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Home.Lon." uom="°" mask="#0.0000000" key="HOMLON">
		<MSPSource class="home_state" field="g_lon"></MSPSource>
		<PX4Source field="LPOS.RLon"></PX4Source>
		<ULogSource field="vehicle_local_position_0.ref_lon"/>
		<Groups>
			<Group>Global Position</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Home.Alt." uom="°" mask="#0.0" key="HOMALT">
	    <MSPSource class="home_state" field="g_alt"></MSPSource>
		<PX4Source field="LPOS.RAlt"></PX4Source>
		<ULogSource field="vehicle_local_position_0.ref_alt"/>
		<Groups>
			<Group>Global Position</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="SP.Global.Pos.VX" uom="cm/s" mask="#0.00" key="SPGLOBVX">
		<ULogSource field="vehicle_global_velocity_setpoint_0.vx"/>
		<Groups>
			<Group>Global Position</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="SP.Global.Pos.VY" uom="cm/s" mask="#0.00" key="SPGLOBVY">
		<ULogSource field="vehicle_global_velocity_setpoint_0.vy"/>
		<Groups>
			<Group>Global Position</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="SP.Global.Pos.VZ" uom="m/s" mask="#0.00" key="SPGLOBVZ">
		<ULogSource field="vehicle_global_velocity_setpoint_0.vz"/>
		<Groups>
			<Group>Global Position</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Heading" uom="°" mask="#0.0" key="HEAD">
		<MSPSource class="hud" field="h">
			 <Converter class="Rad2DegreeConverter" expression="HEAD" />
		</MSPSource>
		<Groups>
			<Group>Global Position</Group>
			<Group>Local Position</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Ground.Speed" uom="m/s" mask="#0.0" key="GNDV">
		<MSPSource class="state" field="v"></MSPSource>
		<Groups>
			<Group>Telemetry</Group>
			<Group>Local Position</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Vert.Speed" uom="m/s" mask="#0.0" key="CLIMB">
		<MSPSource class="state" field="l_vz">
		    <Converter class="ExpressionConverter" expression="-CLIMB" />
		</MSPSource>
		<ULogSource field="vehicle_local_position_0.dist_bottom_rate"/>
		<Groups>
			<Group>Telemetry</Group>
			<Group>Local Position</Group>
		</Groups>
		<Validity min="-2.5" max="2.5"/>
	</KeyFigure>

	<KeyFigure desc="Air speed" uom="m/s" mask="#0.0" key="AIRV">
		<MSPSource class="hud" field="as"></MSPSource>
		<PX4Source field="AIRS.TrueSpeed"></PX4Source>
		<ULogSource field="airspeed_0.true_airspeed_m_s"/>
		<Groups>
			<Group>Global Position</Group>
		</Groups>
	</KeyFigure>


	<!-- Servo output -->

	<KeyFigure desc="Output 1" uom="" mask="#0.0" key="SERVO1">
		<MSPSource class="servo" field="servo1"></MSPSource>
		<PX4Source field="OUT0.Out0"></PX4Source>
		<ULogSource field="actuator_outputs_0.output[0]"/>
		<Groups>
			<Group>Actuators</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Output 1" uom="" mask="#0.0" key="SERVO1">
		<MSPSource class="servo" field="servo1"></MSPSource>
		<MSPSource class="servo" field="servo5"></MSPSource>
		<ULogSource field="actuator_outputs_0.output[0]"/>
		<ULogSource field="actuator_outputs_1.output[0]"/>
		<Groups>
			<Group>Actuators</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Output 2" uom="" mask="#0.0" key="SERVO2">
		<MSPSource class="servo" field="servo2"></MSPSource>
		<MSPSource class="servo" field="servo6"></MSPSource>
		<ULogSource field="actuator_outputs_0.output[1]"/>
		<ULogSource field="actuator_outputs_1.output[1]"/>
		<Groups>
			<Group>Actuators</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Output 3" uom="" mask="#0.0" key="SERVO3">
		<MSPSource class="servo" field="servo3"></MSPSource>
		<MSPSource class="servo" field="servo7"></MSPSource>
		<ULogSource field="actuator_outputs_0.output[2]"/>
		<ULogSource field="actuator_outputs_1.output[2]"/>
		<Groups>
			<Group>Actuators</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Output 4" uom="" mask="#0.0" key="SERVO4">
		<MSPSource class="servo" field="servo4"></MSPSource>
		<MSPSource class="servo" field="servo8"></MSPSource>
		<ULogSource field="actuator_outputs_0.output[3]"/>
		<ULogSource field="actuator_outputs_1.output[3]"/>
		<Groups>
			<Group>Actuators</Group>
		</Groups>
	</KeyFigure>

    <KeyFigure desc="Act.Roll" uom="" mask="#0.0" key="ACTROLL">
		<ULogSource field="actuator_controls_0_0.control[1]"/>
		<Groups>
			<Group>Actuators</Group>
		</Groups>
	</KeyFigure>
     <KeyFigure desc="Act.Pitch" uom="" mask="#0.0" key="ACTPITCH">
		<ULogSource field="actuator_controls_0_0.control[0]"/>
		<Groups>
			<Group>Actuators</Group>
		</Groups>
	</KeyFigure>
    <KeyFigure desc="Act.Yaw" uom="" mask="#0.0" key="ACTYAW">
		<ULogSource field="actuator_controls_0_0.control[2]"/>
		<Groups>
			<Group>Actuators</Group>
		</Groups>
	</KeyFigure>
    <KeyFigure desc="Act.Thrust" uom="" mask="#0.0" key="ACTTHRUST">
		<ULogSource field="actuator_controls_0_0.control[3]"/>
		<Groups>
			<Group>Actuators</Group>
		</Groups>
	</KeyFigure>

	

	<!-- Flow data -->

	<KeyFigure desc="Flow.X" uom="rad/s" mask="#0.00" key="FLOWX">
		<MSPSource class="flow" field="fX"></MSPSource>
		<PX4Source field="FLOW.RawX"></PX4Source>
		<ULogSource field="optical_flow_0.pixel_flow_x_integral"/>
		<Groups>
			<Group>Raw data</Group>
			<Group>Optical Flow</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Flow.Y" uom="rad/s" mask="#0.00" key="FLOWY">
		<MSPSource class="flow" field="fY"></MSPSource>
		<PX4Source field="FLOW.RawY"></PX4Source>
		<ULogSource field="optical_flow_0.pixel_flow_y_integral"/>
		<Groups>
			<Group>Raw data</Group>
			<Group>Optical Flow</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="FLow.Dist." uom="m" mask="#0.00" key="FLOWDI">
		<MSPSource class="flow" field="fd">
		    <Converter class="SignConverter" expression="FLOWDI" />
		</MSPSource>
		<PX4Source field="FLOW.Dist"></PX4Source>
		<ULogSource field="optical_flow_0.ground_distance_m"/>
		<Groups>
			<Group>Raw data</Group>
			<Group>Optical Flow</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Flow.Quality" mask="#0.0" uom="%" key="FLOWQL">
		<MSPSource class="flow" field="fq"/>
		<PX4Source field="FLOW.Qlty"/>
		<ULogSource field="optical_flow_0.quality"/>
		<Groups>
			<Group>Raw data</Group>
			<Group>Optical Flow</Group>
		</Groups>
		<Validity min="0.05" max="1.0"/>
	</KeyFigure>

	<KeyFigure desc="Flow.Gyro.X" uom="m" mask="#0.00" key="FLOWGYX">
	    <MSPSource class="flow" field="fgX"></MSPSource>
		<ULogSource field="optical_flow_0.gyro_x_rate_integral"/>
		<Groups>
			<Group>Raw data</Group>
			<Group>Optical Flow</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Flow.Gyro.Y" uom="m" mask="#0.00" key="FLOWGYY">
	    <MSPSource class="flow" field="fgY"></MSPSource>
		<ULogSource field="optical_flow_0.gyro_y_rate_integral"/>
		<Groups>
			<Group>Raw data</Group>
			<Group>Optical Flow</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Flow.Gyro.Z" uom="m" mask="#0.00" key="FLOWGYZ">
	    <MSPSource class="flow" field="fgZ"></MSPSource>
		<ULogSource field="optical_flow_0.gyro_z_rate_integral"/>
		<Groups>
			<Group>Raw data</Group>
			<Group>Optical Flow</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="RangeFinder Dist." uom="m" mask="#0.00" key="LIDAR">
		<MSPSource class="distance" field="di">
		    <Converter class="SignConverter" expression="LIDAR" />
		</MSPSource>
		<PX4Source field="DIST.Distance"></PX4Source>
		<ULogSource field="distance_sensor_0.current_distance"/>
		<Groups>
			<Group>Raw data</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="RangeFinder Dist.Cov." uom="m" mask="#0.00" key="LIDARCOV">
		<MSPSource class="distance" field="dicov"></MSPSource>
		<PX4Source field="DIST.Covariance"></PX4Source>
		<ULogSource field="distance_sensor_0.covariance"/>
		<Groups>
			<Group>Raw data</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Acc.X" uom="m/s^2" mask="#0.00" key="ACCX">
		<MSPSource class="imu" field="accx"></MSPSource>
		<PX4Source field="IMU.AccX"></PX4Source>
		<ULogSource field="sensor_combined_0.accelerometer_m_s2[0]"></ULogSource>
		<Groups>
		    <Group>Raw data</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="Acc.Y" uom="m/s^2" mask="#0.00" key="ACCY">
		<MSPSource class="imu" field="accy"></MSPSource>
		<PX4Source field="IMU.AccY"></PX4Source>
		<ULogSource field="sensor_combined_0.accelerometer_m_s2[1]"></ULogSource>
		<Groups>
		    <Group>Raw data</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="Acc.Z" uom="m/s^2" mask="#0.00" key="ACCZ">
		<MSPSource class="imu" field="accz"></MSPSource>
		<PX4Source field="IMU.AccZ"></PX4Source>
		<ULogSource field="sensor_combined_0.accelerometer_m_s2[2]"></ULogSource>
		<Groups>
			<Group>Raw data</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Mag.X" uom="Gauss" mask="#0.00" key="MAGX">
		<MSPSource class="imu" field="magx"></MSPSource>
		<PX4Source field="IMU.MagX"></PX4Source>
		<ULogSource field="vehicle_magnetometer_0.magnetometer_ga[0]"></ULogSource>
		<Groups>
		    <Group>Raw data</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Mag.Y" uom="Gauss" mask="#0.00" key="MAGY">
		<MSPSource class="imu" field="magy"></MSPSource>
		<PX4Source field="IMU.MagY"></PX4Source>
		<ULogSource field="vehicle_magnetometer_0.magnetometer_ga[1]"></ULogSource>
		<Groups>
		    <Group>Raw data</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Mag.Z" uom="Gauss" mask="#0.00" key="MAGZ">
		<MSPSource class="imu" field="magz"></MSPSource>
		<PX4Source field="IMU.MagZ"></PX4Source>
		<ULogSource field="vehicle_magnetometer_0.magnetometer_ga[2]"></ULogSource>
		<Groups>
		    <Group>Raw data</Group>
		</Groups>
	</KeyFigure>


	<KeyFigure desc="Gyro.X" uom="rad/s" mask="#0.00" key="GYROX">
		<MSPSource class="imu" field="gyrox"></MSPSource>
		<PX4Source field="IMU.GyroX"></PX4Source>
		<ULogSource field="sensor_combined_0.gyro_rad[0]"></ULogSource>
		<Groups>
		    <Group>Raw data</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Gyro.Y" uom="rad/s" mask="#0.00" key="GYROY">
		<MSPSource class="imu" field="gyroy"></MSPSource>
		<PX4Source field="IMU.GyroY"></PX4Source>
		<ULogSource field="sensor_combined_0.gyro_rad[1]"></ULogSource>
		<Groups>
		    <Group>Raw data</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Gyro.Z" uom="rad/s" mask="#0.00" key="GYROZ">
		<MSPSource class="imu" field="gyroz"></MSPSource>
		<PX4Source field="IMU.GyroZ"></PX4Source>
		<ULogSource field="sensor_combined_0.gyro_rad[2]"></ULogSource>
		<Groups>
			<Group>Raw data</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Baro Temperature" uom="°C" mask="#0.00" key="BAROTEMP">
		<ULogSource field="sensor_combined_0.baro_temp_celcius"></ULogSource>
		<Groups>
			<Group>Raw data</Group>
		</Groups>
	</KeyFigure>


	<KeyFigure desc="Base.Lat." uom="°" mask="#0.0000000" key="BASELAT">
		<MSPSource class="base" field="latitude"></MSPSource>
		<Groups>
			<Group>Raw data</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Base.Lon." uom="°" mask="#0.0000000" key="BASELON">
		<MSPSource class="base" field="longitude"></MSPSource>
		<Groups>
			<Group>Raw data</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Base.Alt." uom="m" mask="#0.0" key="BASEALT">
	    <MSPSource class="base" field="altitude"></MSPSource>
		<Groups>
			<Group>Raw data</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Base.Eph" uom="m" mask="#0.00" key="BASEEPH">
	    <MSPSource class="base" field="eph"></MSPSource>
		<Groups>
			<Group>Raw data</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Base.Epv" uom="m" mask="#0.00" key="BASEEPV">
	    <MSPSource class="base" field="epv"></MSPSource>
		<Groups>
			<Group>Raw data</Group>
			<Group>Telemetry</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Base.No.Sat." uom="" mask="#0" key="BASENO">
		<MSPSource class="base" field="numsat"></MSPSource>
		<Groups>
			<Group>Raw data</Group>
		</Groups>
		<Validity min="6" max="99"/>
	</KeyFigure>

	<KeyFigure desc="Abs.Pressure" uom="hPa" mask="#0" key="ABSPRES">
		<MSPSource class="imu" field="abs_pressure"></MSPSource>
		<PX4Source field="SENS.BaroPres"></PX4Source>
		<ULogSource field="sensor_baro_0.pressure"/>
		<Groups>
			<Group>Raw data</Group>
		</Groups>
	</KeyFigure>


	<KeyFigure desc="Horiz.Accurracy" uom="m" mask="±#0.000" key="GPHACCUR">
		<MSPSource class="est" field="posHorizAccuracy"></MSPSource>
        <ULogSource field="estimator_status_0.pos_horiz_accuracy"/>
		<Groups>
			<Group>Local Position</Group>
            <Group>Global Position</Group>
		</Groups>
		<Validity min="0" max="0.3"/>
	</KeyFigure>

	<KeyFigure desc="Vert.Accurracy" uom="m" mask="±#0.000" key="GPVACCUR">
		<MSPSource class="est" field="posVertAccuracy"></MSPSource>
        <ULogSource field="estimator_status_0.pos_vert_accuracy"/>
		<Groups>
			<Group>Local Position</Group>
            <Group>Global Position</Group>
		</Groups>
		<Validity min="0" max="0.2"/>
	</KeyFigure>

	<!-- GPS Data -->


    <KeyFigure desc="GPS.Lat." uom="°" mask="#0.0000000" key="RGPSLAT">
		<MSPSource class="gps" field="latitude"></MSPSource>
		<ULogSource field="vehicle_gps_position_0.lat">
		  <Converter class="ExpressionConverter" expression="RGPSLAT/10000000" />
		</ULogSource>
		<Groups>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="GPS.Lon." uom="°" mask="#0.0000000" key="RGPSLON">
		<MSPSource class="gps" field="longitude"></MSPSource>
		<ULogSource field="vehicle_gps_position_0.lon">
		 <Converter class="ExpressionConverter" expression="RGPSLON/10000000" />
		</ULogSource>
		<Groups>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="GPS.LocalX" uom="m" mask="#0.00" key="GPSLX">
		<MSPSource class="gps" field="lx"></MSPSource>
		<Groups>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="GPS.LocalY" uom="m" mask="#0.00" key="GPSLY">
		<MSPSource class="gps" field="ly"></MSPSource>
		<Groups>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>

    <KeyFigure desc="GPS Jamming" uom="" mask="#0" key="RGPSJAM">
		<ULogSource field="vehicle_gps_position_0.jamming_indicator"/>
		<Groups>
			<Group>GPS</Group>
		</Groups>
		<Validity min="6" max="30"/>
	</KeyFigure>

	<KeyFigure desc="No.Sat." uom="" mask="#0" key="RGPSNO">
		<MSPSource class="gps" field="numsat"></MSPSource>
		<PX4Source field="GPS.nSat"></PX4Source>
		<ULogSource field="vehicle_gps_position_0.satellites_used"/>
		<Groups>
			<Group>GPS</Group>
		</Groups>
		<Validity min="6" max="99"/>
	</KeyFigure>

	<KeyFigure desc="GPS HDOP" uom="m" mask="#0.0" key="RGPSHDOP">
		<MSPSource class="gps" field="hdop"></MSPSource>
		<ULogSource field="vehicle_gps_position_0.hdop"></ULogSource>
		<Groups>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="GPS Speed" uom="m/s" mask="#0.0" key="RGPSV">
		<MSPSource class="gps" field="speed"></MSPSource>
		<ULogSource field="vehicle_gps_position_0.vel_m_s"></ULogSource>
		<Groups>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="GPS Eph" uom="m" mask="#0.00" key="RGPSEPH">
	    <MSPSource class="gps" field="eph"></MSPSource>
		<ULogSource field="vehicle_gps_position_0.eph"></ULogSource>
		<Groups>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="GPS Epv" uom="m" mask="#0.00" key="RGPSEPV">
	    <MSPSource class="gps" field="epv"></MSPSource>
		<ULogSource field="vehicle_gps_position_0.epv"></ULogSource>
		<Groups>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="GPS Fix" uom="" mask="#0" key="RGPSFIX">
	    <MSPSource class="gps" field="fixtype"></MSPSource>
	    <Groups>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="GPS Heading" uom="°" mask="#0.0" key="RGPSHEAD">
	    <MSPSource class="gps" field="heading"></MSPSource>
	    <ULogSource field="sensor_gps_0.heading"></ULogSource>
	    <Groups>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="GPS Noise" uom="pms" mask="#0" key="RGPSNOISE">
		<ULogSource field="vehicle_gps_position_0.noise_per_ms"></ULogSource>
		<Groups>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="GPS.Variance" uom="m/s" mask="#0" key="RGPSVAR">
		<ULogSource field="vehicle_gps_position_0.s_variance_m_s"></ULogSource>
		<Groups>
			<Group>GPS</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc= "SVIN accuracy" uom="m" mask="#0.0" key="SVINACC">
		<Groups>
			<Group>GPS</Group>
		</Groups>
  </KeyFigure>

	<!-- Estimator data -->


	<KeyFigure desc="LPosXY valid" uom="" mask="#0" key="LPOSXYVAL">
		<PX4Source field="LPOS.PFlg"></PX4Source>
		<ULogSource field="vehicle_local_position_0.xy_valid"/>
		<Groups>
			<Group>Local Position</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="LPosZ valid" uom="" mask="#0" key="LPOSZVAL">
		<PX4Source field="LPOS.GFlg"></PX4Source>
		<ULogSource field="vehicle_local_position_0.z_valid"/>
		<Groups>
			<Group>Local Position</Group>
		</Groups>
	</KeyFigure>



	<!-- Radio -->

	<KeyFigure desc="RC Channel 0" uom="" mask="#0.0" key="RC0">
		<MSPSource class="rc" field="s0">
		  <Converter class="ExpressionConverter" expression="(RC0 - 1000) / 1000" />
		</MSPSource>
		<ULogSource field="input_rc_0.values[0]">
		  <Converter class="ExpressionConverter" expression="(RC0 - 1000) / 1000" />
		</ULogSource>
		<Groups>
			<Group>Radio Control</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="RC Channel 1" uom="" mask="#0.0" key="RC1">
		<MSPSource class="rc" field="s1">
		  <Converter class="ExpressionConverter" expression="(RC1 - 1500) / 1000" />
		</MSPSource>
		<ULogSource field="rinput_rc_0.values[1]">
		  <Converter class="ExpressionConverter" expression="(RC1 - 1500) / 1000" />
		</ULogSource>
		<Groups>
			<Group>Radio Control</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="RC Channel 2" uom="" mask="#0.0" key="RC2">
		<MSPSource class="rc" field="s2">
		  <Converter class="ExpressionConverter" expression="(RC2 - 1500) / 1000" />
		</MSPSource>
		<ULogSource field="input_rc_0.values[2]">
		  <Converter class="ExpressionConverter" expression="(RC2 - 1500) / 1000" />
		</ULogSource>
		<Groups>
			<Group>Radio Control</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="RC Channel 3" uom="" mask="#0.0" key="RC3">
		<MSPSource class="rc" field="s3">
		  <Converter class="ExpressionConverter" expression="(RC3 - 1500) / 1000" />
		</MSPSource>
		<ULogSource field="input_rc_0.values[3]">
		  <Converter class="ExpressionConverter" expression="(RC3 - 1500) / 1000" />
		</ULogSource>
		<Groups>
			<Group>Radio Control</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="RSSI" uom="%" mask="#0" key="RSSI">
		<MSPSource class="rc" field="rssi">
		   <Converter class="ExpressionConverter" expression="RSSI/100" />
		</MSPSource>
		<ULogSource field="input_rc_0.rssi">
		  <Converter class="ExpressionConverter" expression="RSSI/100" />
		</ULogSource>
		<Groups>
			<Group>Radio Control</Group>
		</Groups>
		<Validity min="0.2" max="10.0"/>
	</KeyFigure>

	<!-- System & Power -->

	<KeyFigure desc="Voltage" uom="V" mask="#0.0" key="BATV">
		<MSPSource class="battery" field="b0"></MSPSource>
		<PX4Source field="BATT.V"></PX4Source>
		<ULogSource field="battery_status_0.voltage_filtered_v"/>
		<Groups>
			<Group>Battery</Group>
			<Group>System</Group>
		</Groups>
		<Validity min="10.5" max="999.0"/>
	</KeyFigure>
	
	<KeyFigure desc="PX4 Voltage 5V" uom="V" mask="#0.0" key="PX4V5">
		<ULogSource field="system_power_0.voltage5v_v"/>
		<Groups>
			<Group>Battery</Group>
			<Group>System</Group>
		</Groups>
		<Validity min="4.7" max="5.5"/>
	</KeyFigure>	

	<KeyFigure desc="Current" uom="A" mask="#0.0" key="BATC">
		<MSPSource class="battery" field="c0"></MSPSource>
		<PX4Source field="BATT.C"></PX4Source>
		<ULogSource field="battery_status_0.current_filtered_a"/>
		<Groups>
			<Group>Battery</Group>
		</Groups>
		<Validity min="0.0" max="30.0"/>
	</KeyFigure>
	
	<KeyFigure desc="Power" uom="W" mask="#0" key="BATW">
		<VirtualSource>
		    <Converter class="VirtualConverter" expression="BATC * BATV" var0="BATC" var1="BATV"/>
		</VirtualSource>
		<Groups>
			<Group>Battery</Group>
		</Groups>
		<Validity min="0.0" max="300.0"/>
	</KeyFigure>

	<KeyFigure desc="Cons.Power" uom="mAh" mask="#0" key="BATH">
		<MSPSource class="battery" field="a0"></MSPSource>
		<ULogSource field="battery_status_0.discharged_mah"/>
		<Groups>
			<Group>Battery</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Time remaining" uom="sec" mask="#" key="BATTR">
		<MSPSource class="battery" field="tr"></MSPSource>
		<Groups>
			<Group>Battery</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Batt.Temp." uom="°C" mask="#0" key="BATT">
		<MSPSource class="sys" field="bat_temp"></MSPSource>
		<Groups>
			<Group>Battery</Group>
			<Group>System</Group>
		</Groups>
		<Validity min="-20" max="80"/>
	</KeyFigure>

	<KeyFigure desc="Capacity" uom="%" mask="#0" key="BATP">
		<MSPSource class="battery" field="p">
		   <Converter class="ExpressionConverter" expression="BATP/100" />
		</MSPSource>
		<ULogSource field="battery_status_0.remaining"/>
		<Groups>
			<Group>Battery</Group>
		</Groups>
		<Validity min="0.2" max="1.0"/>
	</KeyFigure>

	<KeyFigure desc="PX4 CPU Load" uom="%" mask="#0" key="CPUPX4">
		<MSPSource class="sys" field="load_p">
		   <Converter class="ExpressionConverter" expression="CPUPX4/100" />
		</MSPSource>
		<PX4Source field="LOAD.CPU">
		   <Converter class="ExpressionConverter" expression="CPUPX4/100" />
		</PX4Source>
		<ULogSource field="cpuload_0.load">
		   <Converter class="ExpressionConverter" expression="CPUPX4/100" />
		</ULogSource>
		<Groups>
			<Group>System</Group>
		</Groups>
		<Validity min="0" max="0.85"/>
	</KeyFigure>

	<KeyFigure desc="MSP CPU Load" uom="%" mask="#0" key="CPUMSP">
		<MSPSource class="sys" field="load_m">
		   <Converter class="ExpressionConverter" expression="CPUMSP/100" />
		</MSPSource>
		<Groups>
			<Group>System</Group>
		</Groups>
		<Validity min="0" max="0.85"/>
	</KeyFigure>
	
	<KeyFigure desc="MSP Memory" uom="" mask="#0" key="MEMMSP">
		<MSPSource class="sys" field="mem_m"/>
		<Groups>
			<Group>System</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Sensor.health" uom="" mask="#0" key="HEALTH">
		<MSPSource class="sys" field="health"/>
		<Groups>
			<Group>System</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="IMU Temperature" uom="°C" mask="#0" key="IMUTEMP">
		<MSPSource class="sys" field="imu_temp"></MSPSource>
		<PX4Source field="SENS.BaroTemp"></PX4Source>
		<ULogSource field="sensor_baro_0.temperature"></ULogSource>
		<Groups>
			<Group>System</Group>
		</Groups>
		<Validity min="-10" max="70"/>
	</KeyFigure>

	<KeyFigure desc="MSP Temperature" uom="°C" mask="#0" key="MSPTEMP">
		<MSPSource class="sys" field="msp_temp"/>
		<Validity min="-10" max="70"/>
		<Groups>
			<Group>System</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Time armed" uom="sec" mask="#0" key="TARM">
		<MSPSource class="sys" field="t_armed_ms">
		    <Converter class="ExpressionConverter" expression="TARM/1000" />
		</MSPSource>
	</KeyFigure>

	<KeyFigure desc="Time boot" uom="sec" mask="#0" key="TBOOT">
		<MSPSource class="sys" field="t_boot_ms">
		    <Converter class="ExpressionConverter" expression="TBOOT/1000"/>
		</MSPSource>
	</KeyFigure>

	<KeyFigure desc="Wifi quality" uom="%" mask="#0.00" key="SWIFI">
		<MSPSource class="sys" field="wifi_quality"/>
		<Validity min="0.05" max="999.0"/>
		<Groups>
			<Group>System</Group>
		</Groups>
	</KeyFigure>

  <!-- VISION definitions -->

  <KeyFigure desc="Vis.X" uom="m" mask="#0.00" key="VISIONX">
		<MSPSource class="vision" field="x"/>
	<!--	<ULogSource field="vehicle_vision_position_0.x"/> -->
	    <ULogSource field="estimator_visual_odometry_aligned_0.x"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.Y" uom="m" mask="#0.00" key="VISIONY">
		<MSPSource class="vision" field="y"/>
		<ULogSource field="estimator_visual_odometry_aligned_0.y"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.Z" uom="m" mask="#0.00" key="VISIONZ">
		<MSPSource class="vision" field="z"/>
	    <ULogSource field="estimator_visual_odometry_aligned_0.z"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="GrndTruth.X" uom="m" mask="#0.00" key="GNDTRUTHX">
		<MSPSource class="vision" field="gx"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="GrndTruth.Y" uom="m" mask="#0.00" key="GNDTRUTHY">
		<MSPSource class="vision" field="gy"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>
  
   <KeyFigure desc="GrndTruth.Z" uom="m" mask="#0.00" key="GNDTRUTHZ">
		<MSPSource class="vision" field="gz"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="PrecLock.X" uom="m" mask="#0.00" key="PRECLOCKX">
		<MSPSource class="vision" field="px"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="PrecLock.Y" uom="m" mask="#0.00" key="PRECLOCKY">
		<MSPSource class="vision" field="py"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>
  
  <KeyFigure desc="PrecLock.Z" uom="m" mask="#0.00" key="PRECLOCKZ">
		<MSPSource class="vision" field="pz"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>
  
   <KeyFigure desc="PrecLock.Orientation" uom="°" mask="#0.0" key="PRECLOCKW">
		<MSPSource class="vision" field="pw">
		  <Converter class="Rad2DegreeConverter" expression="PRECLOCKW" />
		</MSPSource>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="GrndTruth.Z" uom="m" mask="#0.00" key="GNDTRUTHZ">
		<MSPSource class="vision" field="gz"/>
		<Groups>
		  <Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.VX" uom="m/s" mask="#0.00" key="VISIONVX">
		<MSPSource class="vision" field="vx"/>
		<ULogSource field="estimator_visual_odometry_aligned_0.vx"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.VY" uom="m/s" mask="#0.00" key="VISIONVY">
		<MSPSource class="vision" field="vy"/>
		<ULogSource field="estimator_visual_odometry_aligned_0.vy"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.VZ" uom="m/s" mask="#0.00" key="VISIONVZ">
		<MSPSource class="vision" field="vz"/>
	<ULogSource field="estimator_visual_odometry_aligned_0.vz"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>
  
  <KeyFigure desc="Vis.AX Body" uom="m/s" mask="#0.00" key="VISIONAX">
		<MSPSource class="vision" field="ax"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.AY Body" uom="m/s" mask="#0.00" key="VISIONAY">
		<MSPSource class="vision" field="ay"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>
  
  <KeyFigure desc="Vis.AZ Body" uom="m/s" mask="#0.00" key="VISIONAZ">
		<MSPSource class="vision" field="az"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.Cov.X" uom="m" mask="#0.00" key="VISIONCOVX">
		<MSPSource class="vision" field="cov_px"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>

   <KeyFigure desc="Vis.Cov.Y" uom="m" mask="#0.00" key="VISIONCOVY">
		<MSPSource class="vision" field="cov_py"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>

   <KeyFigure desc="Vis.Cov.Z" uom="m" mask="#0.00" key="VISIONCOVZ">
		<MSPSource class="vision" field="cov_pz"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.Cov.VX" uom="m" mask="#0.00" key="VISIONCOVVX">
		<MSPSource class="vision" field="cov_vx"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>

   <KeyFigure desc="Vis.Cov.VY" uom="m" mask="#0.00" key="VISIONCOVVY">
		<MSPSource class="vision" field="cov_vy"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>

   <KeyFigure desc="Vis.Cov.VZ" uom="m" mask="#0.00" key="VISIONCOVVZ">
		<MSPSource class="vision" field="cov_vz"/>
		<Groups>
				<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.Pos.Error" uom="m" mask="#0.00" key="VISIONPOSE">
		<ULogSource field="vehicle_vision_position_0.epv"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.Yaw" uom="rad" mask="#0.00" key="VISIONYAW">
		<MSPSource class="vision" field="h"/>
		<ULogSource>
		  <Converter class="QuaternionConverter" p1="estimator_visual_odometry_aligned_0.q" p2="2"/>
		</ULogSource>
		<Groups>
			<Group>Vision</Group>
			<Group>Attitude</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.Yaw (deg)" uom="°" mask="#0.0" key="VISIONH">
		<MSPSource class="vision" field="h">
		   <Converter class="Rad2DegreeConverter" expression="VISIONH" />
		</MSPSource>
		<Groups>
			<Group>Vision</Group>
			<Group>Attitude</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.Pitch" uom="rad" mask="#0.00" key="VISIONP">
		<MSPSource class="vision" field="p"/>
		<ULogSource>
		  <Converter class="QuaternionConverter" p1="estimator_visual_odometry_aligned_0.q" p2="1"/>
		</ULogSource>
		<Groups>
			<Group>Vision</Group>
			<Group>Attitude</Group>
		</Groups>
  </KeyFigure>
  
  <KeyFigure desc="Vis.Latency" uom="ms" mask="#0.0" key="VISIONL">
		<ULogSource>
		  <Converter class="ULOGDifferenceConverter" p1="estimator_visual_odometry_aligned_0.timestamp" p2="estimator_visual_odometry_aligned_0.timestamp_sample"/>
		</ULogSource>
		<Groups>
			<Group>Vision</Group>
			<Group>Attitude</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Vis.Roll" uom="rad" mask="#0.00" key="VISIONR">
		<MSPSource class="vision" field="r"/>
		<ULogSource>
		  <Converter class="QuaternionConverter" p1="estimator_visual_odometry_aligned_0.q" p2="0"/>
		</ULogSource>
		<Groups>
			<Group>Vision</Group>
			<Group>Attitude</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Odom.FrameRate" uom="fps" mask="#0" key="VISIONFPS">
		<MSPSource class="vision" field="fps"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Odom.Flags" uom="" mask="#0" key="VISIONFLAGS">
		<MSPSource class="vision" field="flags"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Odom.Quality" uom="%" mask="#0.0" key="VISIONQUAL">
		<MSPSource class="vision" field="qual">
		   <Converter class="ExpressionConverter" expression="VISIONQUAL/100" />
		 </MSPSource>
		 <Validity min="0.1" max="1.0"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>
  
  <KeyFigure desc="VIO Errors" uom="" mask="#0" key="VISIONERRC">
		<MSPSource class="vision" field="errors"/>
		<Groups>
			<Group>Vision</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Debug X" uom="" mask="#0.000" key="DEBUGX">
		<MSPSource class="debug" field="x"/>
		<Groups>
			<Group>Debug</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Debug Y" uom="" mask="#0.000" key="DEBUGY">
		<MSPSource class="debug" field="y"/>
		<Groups>
			<Group>Debug</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="Debug Z" uom="" mask="#0.000" key="DEBUGZ">
		<MSPSource class="debug" field="z"/>
		<Groups>
			<Group>Debug</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="MAVGCL Cycle" uom="ms" mask="#0" key="MAVGCLACC">
		<Groups>
			<Group>System</Group>
		</Groups>
  </KeyFigure>

  <KeyFigure desc="MAVGCL Network" uom="kb/s" mask="#0.0" key="MAVGCLNET">
		<Groups>
			<Group>System</Group>
		</Groups>
  </KeyFigure>


  <!-- virtual keyfigure definition  -->

	<KeyFigure desc="Loc.Pos.Z error" uom="m" mask="#0.00" key="LPOSZERR">
		<VirtualSource>
		    <Converter class="VirtualConverter" expression="abs(LPOSZ - SPLPOSZ)" var0="LPOSZ" var1="SPLPOSZ"/>
		</VirtualSource>
		<Validity min="0" max="0.3"/>
		<Groups>
			<Group>Altitude</Group>
			<Group>Virtual keyfigures</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Loc.Pos.VZ error" uom="m/s" mask="#0.00" key="LPOSVZERR">
		<VirtualSource>
		    <Converter class="VirtualConverter" expression="abs(LPOSVZ - SPLPOSVZ)" var0="LPOSVZ" var1="SPLPOSVZ"/>
		</VirtualSource>
		<Validity min="0" max="0.3"/>
		<Groups>
			<Group>Virtual keyfigures</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Loc.Pos.X error" uom="m" mask="#0.00" key="LPOSXERR">
		<VirtualSource>
		    <Converter class="VirtualConverter" expression="abs(LPOSX - SPLPOSX)" var0="LPOSX" var1="SPLPOSX"/>
		</VirtualSource>
		<Validity min="0" max="0.3"/>
		<Groups>
			<Group>Virtual keyfigures</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Heading error" uom="m" mask="#0.00" key="HEADERR">
		<VirtualSource>
		    <Converter class="VirtualConverter" expression="abs(HEAD - VISIONH)" var0="HEAD" var1="VISIONH"/>
		</VirtualSource>
		<Validity min="0" max="0.3"/>
		<Groups>
			<Group>Virtual keyfigures</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Loc.Pos.Y error" uom="m" mask="#0.00" key="LPOSYERR">
		<VirtualSource>
		    <Converter class="VirtualConverter" expression="abs(LPOSY - SPLPOSY)" var0="LPOSY" var1="SPLPOSY"/>
		</VirtualSource>
		<Validity min="0" max="0.3"/>
		<Groups>
			<Group>Virtual keyfigures</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Loc.Pos.XY error" uom="m" mask="#0.00" key="LPOSXYERR">
		<VirtualSource>
		    <Converter class="VirtualConverter"
		       expression="sqrt( (LPOSX - SPLPOSX) * (LPOSX - SPLPOSX) + (LPOSY - SPLPOSY) * (LPOSY - SPLPOSY) )"
		       var0="LPOSX" var1="SPLPOSX" var2="LPOSY" var3="SPLPOSY"/>
		</VirtualSource>
		<Validity min="0" max="0.3"/>
		<Groups>
			<Group>Virtual keyfigures</Group>
		</Groups>
	</KeyFigure>


	<KeyFigure desc="LPosX RMSE10" uom="m" mask="#0.00" key="LPOSXRMSE">
		<VirtualSource>
		    <Converter class="RMSEConverter2" var0="LPOSX" var1="SPLPOSX" var2="200"/>
		</VirtualSource>
		<Validity min="0" max="0.3"/>
		<Groups>
			<Group>Virtual keyfigures</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="LPosY RMSE10" uom="m" mask="#0.00" key="LPOSYRMSE">
		<VirtualSource>
		    <Converter class="RMSEConverter2" var0="LPOSY" var1="SPLPOSY" var2="200"/>
		</VirtualSource>
		<Validity min="0" max="0.3"/>
		<Groups>
			<Group>Virtual keyfigures</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="LPosZ RMSE10" uom="m" mask="#0.00" key="LPOSZRMSE">
		<VirtualSource>
		    <Converter class="RMSEConverter2" var0="LPOSZ" var1="SPLPOSZ" var2="200"/>
		</VirtualSource>
		<Validity min="0" max="0.3"/>
		<Groups>
			<Group>Virtual keyfigures</Group>
		</Groups>
	</KeyFigure>

	<!-- SLAM data -->

	<KeyFigure desc="Info.X" uom="m" mask="#0.00" key="SLAMPX">
		<MSPSource class="slam" field="ix"></MSPSource>
		<Groups>
			<Group>Local Position</Group>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="Info.Y" uom="m" mask="#0.00" key="SLAMPY">
		<MSPSource class="slam" field="iy"></MSPSource>
		<Groups>
			<Group>Local Position</Group>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>
	<KeyFigure desc="Info.Z" uom="m" mask="#0.00" key="SLAMPZ">
		<MSPSource class="slam" field="iz"></MSPSource>
		<Groups>
			<Group>Local Position</Group>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Path distance" uom="m" mask="#0.0" key="SLAMDTT">
		<MSPSource class="slam" field="di"></MSPSource>
		<Groups>
			<Group>Local Position</Group>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>

	
	<KeyFigure desc="Depth.FrameRate" uom="fps" mask="#0" key="SLAMFPS">
		<MSPSource class="slam" field="fps"></MSPSource>
		<Groups>
			<Group>Local Position</Group>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Offboard.Flags" uom="m/s" mask="#0.0" key="SLAMFLG">
		<MSPSource class="slam" field="flags"></MSPSource>
		<Groups>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Map.Size" uom="" mask="#" key="SLAMMPS">
		<MSPSource class="grid" field="count">
		</MSPSource>
		<Groups>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="BBox,X" uom="" mask="#" key="SLAMBBX">
		<MSPSource class="grid" field="cx"/>
	</KeyFigure>
	
	<KeyFigure desc="BBox,Y" uom="" mask="#" key="SLAMBBY">
		<MSPSource class="grid" field="cy"/>
	</KeyFigure>
	
	<KeyFigure desc="BBox,Z" uom="" mask="#" key="SLAMBBZ">
		<MSPSource class="grid" field="cz"/>
	</KeyFigure>

	<KeyFigure desc="Depth.Quality" uom="%" mask="#0.0" key="SLAMQU">
		<MSPSource class="slam" field="quality">
		   <Converter class="ExpressionConverter" expression="SLAMQU/100" />
		</MSPSource>
		<Groups>
			<Group>Local Position</Group>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="WayPoint" uom="" mask="#000" key="SLAMWP">
		<MSPSource class="slam" field="wpcount"></MSPSource>
		<Groups>
			<Group>Local Position</Group>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Dist.Obstacle" uom="m" mask="#0.0" key="SLAMDTO">
		<MSPSource class="slam" field="dm"></MSPSource>
		<Groups>
			<Group>Local Position</Group>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Obstacle.X" uom="m" mask="#0.00" key="SLAMOBX">
		<MSPSource class="obs" field="x"></MSPSource>
		<Groups>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Obstacle.Y" uom="m" mask="#0.00" key="SLAMOBY">
		<MSPSource class="obs" field="y"></MSPSource>
		<Groups>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="Obstacle.Z" uom="m" mask="#0.00" key="SLAMOBZ">
		<MSPSource class="obs" field="z"></MSPSource>
		<Groups>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="ObstSize.X" uom="m" mask="#0.00" key="SLAMSOBX">
		<MSPSource class="obs" field="sx"></MSPSource>
		<Groups>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="ObstSize.Y" uom="m" mask="#0.00" key="SLAMSOBY">
		<MSPSource class="obs" field="sy"></MSPSource>
		<Groups>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="ObstSize.Z" uom="m" mask="#0.00" key="SLAMSOBZ">
		<MSPSource class="obs" field="sz"></MSPSource>
		<Groups>
			<Group>Mapping</Group>
		</Groups>
	</KeyFigure>
	
	<!-- Trajectory Note: Not displayed -->

	<KeyFigure desc="LENGTH" uom="s" mask="#0.00" key="TRAJLEN">
		<MSPSource class="traj" field="ls"/>
		<Groups>
			<Group>Trajectory</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="CURRENT" uom="s" mask="#0.00" key="TRAJCURRENT">
		<MSPSource class="traj" field="fs"/>
		<Groups>
			<Group>Trajectory</Group>
		</Groups>
	</KeyFigure>
	
	<KeyFigure desc="ALPHA.X" uom="" mask="#" key="TRAJALPHAX">
		<MSPSource class="traj" field="ax"/>
	</KeyFigure>
	
	<KeyFigure desc="ALPHA.Y" uom="" mask="#" key="TRAJALPHAY">
		<MSPSource class="traj" field="ay"/>
	</KeyFigure>
	
	<KeyFigure desc="ALPHA.Z" uom="" mask="#" key="TRAJALPHAZ">
		<MSPSource class="traj" field="az"/>
	</KeyFigure>
	
	<KeyFigure desc="BETA.X" uom="" mask="#" key="TRAJBETAX">
		<MSPSource class="traj" field="bx"/>
	</KeyFigure>
	
	<KeyFigure desc="BETA.Y" uom="" mask="#" key="TRAJBETAY">
		<MSPSource class="traj" field="by"/>
	</KeyFigure>
	
	<KeyFigure desc="BETA.Z" uom="" mask="#" key="TRAJBETAZ">
		<MSPSource class="traj" field="bz"/>
	</KeyFigure>
	
	<KeyFigure desc="GAMMA.X" uom="" mask="#" key="TRAJGAMMAX">
		<MSPSource class="traj" field="gx"/>
	</KeyFigure>
	
	<KeyFigure desc="GAMMA.Y" uom="" mask="#" key="TRAJGAMMAY">
		<MSPSource class="traj" field="gy"/>
	</KeyFigure>
	
	<KeyFigure desc="GAMMA.Z" uom="" mask="#" key="TRAJGAMMAZ">
		<MSPSource class="traj" field="gz"/>
	</KeyFigure>
	
	<KeyFigure desc="START.X" uom="" mask="#" key="TRAJSTARTX">
		<MSPSource class="traj" field="sx"/>
	</KeyFigure>
	
	<KeyFigure desc="START.Y" uom="" mask="#" key="TRAJSTARTY">
		<MSPSource class="traj" field="sy"/>
	</KeyFigure>
	
	<KeyFigure desc="START.Z" uom="" mask="#" key="TRAJSTARTZ">
		<MSPSource class="traj" field="sz"/>
	</KeyFigure>
	
	<KeyFigure desc="START.VX" uom="" mask="#" key="TRAJSTARTVX">
		<MSPSource class="traj" field="svx"/>
	</KeyFigure>
	
	<KeyFigure desc="START.VY" uom="" mask="#" key="TRAJSTARTVY">
		<MSPSource class="traj" field="svy"/>
	</KeyFigure>
	
	<KeyFigure desc="START.VZ" uom="" mask="#" key="TRAJSTARTVZ">
		<MSPSource class="traj" field="svz"/>
	</KeyFigure>
	
	<KeyFigure desc="START.AX" uom="" mask="#" key="TRAJSTARTAX">
		<MSPSource class="traj" field="sax"/>
	</KeyFigure>
	
	<KeyFigure desc="START.AY" uom="" mask="#" key="TRAJSTARTAY">
		<MSPSource class="traj" field="say"/>
	</KeyFigure>
	
	<KeyFigure desc="START.AZ" uom="" mask="#" key="TRAJSTARTAZ">
		<MSPSource class="traj" field="saz"/>
	</KeyFigure>
	

	<!-- Status Flags  -->

	<KeyFigure desc="LPOS valid" uom="" mask="#" key="FLAGLPOS">
		<MSPSource class="sys" field="status">
             <Converter class="BitMaskConverter" p1="12"/>
		</MSPSource>
		<ULogSource field="vehicle_status_flags_0.condition_local_position_valid"/>
		<Groups>
			<Group>System</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="GPOS valid" uom="" mask="#" key="FLAGGPOS">
		<MSPSource class="sys" field="status">
             <Converter class="BitMaskConverter" p1="11"/>
		</MSPSource>
		<ULogSource field="vehicle_status_flags_0.condition_global_position_valid"/>
		<Groups>
			<Group>System</Group>
		</Groups>
	</KeyFigure>

	<KeyFigure desc="Nav.State" uom="" mask="#" key="NAVSTATE">
		<MSPSource class="sys" field="nav_state"/>
		<ULogSource field="vehicle_status_0.nav_state"/>
		<Groups>
			<Group>System</Group>
		</Groups>
	</KeyFigure>


</AnalysisDataModel>